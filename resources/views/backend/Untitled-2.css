<div class="page-content">
                <div class="container-fluid">
                    <h2 class="d-flex justify-content-between align-items-center">
    <span>Template: <span id="templateTitleLabel"></span></span>
    <button id="toggleModeBtn" class="btn btn-outline-primary btn-sm">Switch to Edit</button>
</h2>

<!-- Success message -->

<!-- View Mode -->
<div id="viewMode" class="mt-3">
    <iframe id="liveFrame" style="width:100%; height:400px; border:1px solid #ccc;"></iframe>
</div>

<!-- Edit Mode -->
<form method="POST" action="http://127.0.0.1:8000/page-templates/page-templates/116619" id="editMode" class="d-none mt-3">
    <input type="hidden" name="_token" value="D3fowwZJv6VnfhpomZXML6dbnwHg19jDDCVXjOuL" autocomplete="off">    <input type="hidden" name="_method" value="PUT">
    <input type="hidden" name="id" value="116619">

    <div class="mb-3">
        <label>Name:</label>
        <input type="text" name="name" class="form-control" id="templateNameInput" value="Friend Circle" required="">
    </div>

    <div class="mb-3">
        <label>HTML Code:</label>
        <textarea name="html_code" rows="10" class="form-control" id="html_code" required="">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta name="description" content="Manage your friend circles and groups on Friends"&gt;
    &lt;meta name="theme-color" content="#4a90e2"&gt;
    &lt;title&gt;Friend Circles - Friends&lt;/title&gt;
    &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"&gt;
    &lt;link rel="stylesheet" href="../styles/friend-circles.css"&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;style&gt;
#sidebar-menu ul li a {
    display: block;
    padding: .62rem 1.5rem;
    color: red!important;
    position: relative;
    font-size: .9rem;
    transition: all .4s;
    font-weight: 500;
}
:root {
    --primary-color: #4a90e2;
    --secondary-color: #f5f6f7;
    --text-color: #1c1e21;
    --success-color: #42b72a;
    --warning-color: #f7b928;
    --danger-color: #dc3545;
    --border-radius: 10px;
    --transition-speed: 0.2s;
}

/* Skip Navigation */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--primary-color);
    color: white;
    padding: 8px;
    z-index: 100;
    transition: top var(--transition-speed);
}

.skip-link:focus {
    top: 0;
}

/* General Styles */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f0f2f5;
    min-height: 100vh;
}

/* Sidebar */
.sidebar {
    background: white;
    height: 100vh;
    position: fixed;
    padding: 20px;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    z-index: 1000;
    transition: transform var(--transition-speed);
}

.sidebar.collapsed {
    transform: translateX(-100%);
}

.nav-link {
    color: var(--text-color);
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 5px;
    transition: all var(--transition-speed);
    position: relative;
}

.nav-link:hover {
    background-color: var(--secondary-color);
    transform: translateX(5px);
}

.nav-link.active {
    background-color: var(--primary-color);
    color: white;
}

/* Main Content */
.main-content {
    margin-left: 250px;
    padding: 20px;
    transition: margin var(--transition-speed);
}

.main-content.expanded {
    margin-left: 0;
}

/* Circle Cards */
.circle-card {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform var(--transition-speed), box-shadow var(--transition-speed);
    position: relative;
}

.circle-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.circle-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
    margin-bottom: 15px;
    transition: transform var(--transition-speed);
}

.circle-avatar:hover {
    transform: scale(1.1);
}

.member-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 2px solid white;
    margin-left: -8px;
    transition: transform var(--transition-speed);
}

.member-avatar:hover {
    transform: scale(1.2);
    z-index: 1;
}

.member-avatar:first-child {
    margin-left: 0;
}

.circle-actions {
    position: absolute;
    top: 10px;
    right: 10px;
    opacity: 0;
    transition: opacity var(--transition-speed);
}

.circle-card:hover .circle-actions {
    opacity: 1;
}

/* Create Circle Section */
.create-circle-section {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform var(--transition-speed), box-shadow var(--transition-speed);
}

.create-circle-section:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.circle-color {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-right: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: transform var(--transition-speed), border-color var(--transition-speed);
}

.circle-color:hover {
    transform: scale(1.2);
}

.circle-color.active {
    border-color: var(--text-color);
    transform: scale(1.1);
}

/* Form Elements */
.form-control, .form-select {
    border: 1px solid var(--secondary-color);
    border-radius: var(--border-radius);
    padding: 10px 15px;
    transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
}

.form-control:focus, .form-select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
}

/* Buttons */
.btn {
    border-radius: var(--border-radius);
    padding: 8px 16px;
    transition: all var(--transition-speed);
}

.btn-primary {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Dropdown Menu */
.dropdown-menu {
    border-radius: var(--border-radius);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: none;
    padding: 8px;
}

.dropdown-item {
    border-radius: 5px;
    padding: 8px 12px;
    transition: background-color var(--transition-speed);
}

.dropdown-item:hover {
    background-color: var(--secondary-color);
}

/* Modal */
.modal-content {
    border-radius: var(--border-radius);
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.modal-header {
    border-bottom: 1px solid var(--secondary-color);
    padding: 15px 20px;
}

.modal-body {
    padding: 20px;
}

.modal-footer {
    border-top: 1px solid var(--secondary-color);
    padding: 15px 20px;
}

/* Loading States */
.loading {
    position: relative;
    pointer-events: none;
    opacity: 0.8;
}

.loading::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid #fff;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s linear infinite;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
}

@keyframes spin {
    to { transform: translateY(-50%) rotate(360deg); }
}

/* Responsive Design */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
    }

    .sidebar.show {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
    }

    .circle-card {
        padding: 15px;
    }

    .circle-avatar {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }

    .member-avatar {
        width: 28px;
        height: 28px;
    }

    .create-circle-section {
        padding: 15px;
    }
} 
&lt;/style&gt;
    
    &lt;!-- Main Content --&gt;
    &lt;main id="main-content" class="main-content" role="main"&gt;
        &lt;div class="d-flex justify-content-between align-items-center mb-4"&gt;
            &lt;h1 class="h4"&gt;Friend Circles&lt;/h1&gt;
            &lt;button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#createCircleModal" aria-label="Create new circle"&gt;
                &lt;i class="fas fa-plus me-2" aria-hidden="true"&gt;&lt;/i&gt; Create New Circle
            &lt;/button&gt;
        &lt;/div&gt;

        &lt;!-- Create Circle Section --&gt;
        &lt;section class="create-circle-section" aria-labelledby="quick-create-heading"&gt;
            &lt;h2 id="quick-create-heading" class="h5 mb-3"&gt;Quick Create&lt;/h2&gt;
            &lt;div class="row g-3"&gt;
                &lt;div class="col-md-4"&gt;
                    &lt;label for="circleName" class="form-label visually-hidden"&gt;Circle Name&lt;/label&gt;
                    &lt;input type="text" id="circleName" class="form-control" placeholder="Circle Name" aria-label="Enter circle name"&gt;
                &lt;/div&gt;
                &lt;div class="col-md-4"&gt;
                    &lt;label for="circleMembers" class="form-label visually-hidden"&gt;Select Friends&lt;/label&gt;
                    &lt;select id="circleMembers" class="form-select" aria-label="Select friends for circle"&gt;
                        &lt;option value=""&gt;Select Friends&lt;/option&gt;
                        &lt;option value="all"&gt;All Friends&lt;/option&gt;
                        &lt;option value="close"&gt;Close Friends&lt;/option&gt;
                        &lt;option value="custom"&gt;Custom Selection&lt;/option&gt;
                    &lt;/select&gt;
                &lt;/div&gt;
                &lt;div class="col-md-4"&gt;
                    &lt;button class="btn btn-primary w-100" aria-label="Create circle with selected options"&gt;Create Circle&lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/section&gt;

        &lt;!-- Circles Grid --&gt;
        &lt;section class="row" aria-label="Friend circles"&gt;
            &lt;!-- Circle Card 1 --&gt;
            &lt;article class="col-md-4"&gt;
                &lt;div class="circle-card position-relative"&gt;
                    &lt;div class="circle-actions"&gt;
                        &lt;div class="dropdown"&gt;
                            &lt;button class="btn btn-link text-muted" data-bs-toggle="dropdown" aria-label="Circle options"&gt;
                                &lt;i class="fas fa-ellipsis-v" aria-hidden="true"&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;ul class="dropdown-menu" role="menu"&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-edit me-2" aria-hidden="true"&gt;&lt;/i&gt;Edit Circle&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-user-plus me-2" aria-hidden="true"&gt;&lt;/i&gt;Add Members&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-trash me-2" aria-hidden="true"&gt;&lt;/i&gt;Delete Circle&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="circle-avatar" style="background: #4a90e2;" aria-hidden="true"&gt;
                        &lt;i class="fas fa-users" aria-hidden="true"&gt;&lt;/i&gt;
                    &lt;/div&gt;
                    &lt;h3 class="h5 mb-2"&gt;Family&lt;/h3&gt;
                    &lt;p class="text-muted mb-3"&gt;12 members&lt;/p&gt;
                    &lt;div class="d-flex align-items-center"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="Family member 1"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="Family member 2"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="Family member 3"&gt;
                        &lt;span class="ms-2 text-muted"&gt;+9 more&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/article&gt;

            &lt;!-- Circle Card 2 --&gt;
            &lt;article class="col-md-4"&gt;
                &lt;div class="circle-card position-relative"&gt;
                    &lt;div class="circle-actions"&gt;
                        &lt;div class="dropdown"&gt;
                            &lt;button class="btn btn-link text-muted" data-bs-toggle="dropdown" aria-label="Circle options"&gt;
                                &lt;i class="fas fa-ellipsis-v" aria-hidden="true"&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;ul class="dropdown-menu" role="menu"&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-edit me-2" aria-hidden="true"&gt;&lt;/i&gt;Edit Circle&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-user-plus me-2" aria-hidden="true"&gt;&lt;/i&gt;Add Members&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-trash me-2" aria-hidden="true"&gt;&lt;/i&gt;Delete Circle&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="circle-avatar" style="background: #31a24c;" aria-hidden="true"&gt;
                        &lt;i class="fas fa-briefcase" aria-hidden="true"&gt;&lt;/i&gt;
                    &lt;/div&gt;
                    &lt;h3 class="h5 mb-2"&gt;Work&lt;/h3&gt;
                    &lt;p class="text-muted mb-3"&gt;8 members&lt;/p&gt;
                    &lt;div class="d-flex align-items-center"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="Work colleague 1"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="Work colleague 2"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="Work colleague 3"&gt;
                        &lt;span class="ms-2 text-muted"&gt;+5 more&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/article&gt;

            &lt;!-- Circle Card 3 --&gt;
            &lt;article class="col-md-4"&gt;
                &lt;div class="circle-card position-relative"&gt;
                    &lt;div class="circle-actions"&gt;
                        &lt;div class="dropdown"&gt;
                            &lt;button class="btn btn-link text-muted" data-bs-toggle="dropdown" aria-label="Circle options"&gt;
                                &lt;i class="fas fa-ellipsis-v" aria-hidden="true"&gt;&lt;/i&gt;
                            &lt;/button&gt;
                            &lt;ul class="dropdown-menu" role="menu"&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-edit me-2" aria-hidden="true"&gt;&lt;/i&gt;Edit Circle&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-user-plus me-2" aria-hidden="true"&gt;&lt;/i&gt;Add Members&lt;/a&gt;&lt;/li&gt;
                                &lt;li&gt;&lt;a class="dropdown-item" href="#" role="menuitem"&gt;&lt;i class="fas fa-trash me-2" aria-hidden="true"&gt;&lt;/i&gt;Delete Circle&lt;/a&gt;&lt;/li&gt;
                            &lt;/ul&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="circle-avatar" style="background: #e74c3c;" aria-hidden="true"&gt;
                        &lt;i class="fas fa-graduation-cap" aria-hidden="true"&gt;&lt;/i&gt;
                    &lt;/div&gt;
                    &lt;h3 class="h5 mb-2"&gt;College&lt;/h3&gt;
                    &lt;p class="text-muted mb-3"&gt;15 members&lt;/p&gt;
                    &lt;div class="d-flex align-items-center"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="College friend 1"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="College friend 2"&gt;
                        &lt;img src="https://via.placeholder.com/32" class="member-avatar" alt="College friend 3"&gt;
                        &lt;span class="ms-2 text-muted"&gt;+12 more&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/article&gt;
        &lt;/section&gt;
    &lt;/main&gt;

    &lt;!-- Create Circle Modal --&gt;
    &lt;div class="modal fade" id="createCircleModal" tabindex="-1" aria-labelledby="createCircleModalLabel" aria-hidden="true"&gt;
        &lt;div class="modal-dialog"&gt;
            &lt;div class="modal-content"&gt;
                &lt;div class="modal-header"&gt;
                    &lt;h2 id="createCircleModalLabel" class="modal-title h5"&gt;Create New Circle&lt;/h2&gt;
                    &lt;button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"&gt;&lt;/button&gt;
                &lt;/div&gt;
                &lt;div class="modal-body"&gt;
                    &lt;div class="mb-3"&gt;
                        &lt;label for="modalCircleName" class="form-label"&gt;Circle Name&lt;/label&gt;
                        &lt;input type="text" id="modalCircleName" class="form-control" placeholder="Enter circle name"&gt;
                    &lt;/div&gt;
                    &lt;div class="mb-3"&gt;
                        &lt;label class="form-label"&gt;Circle Color&lt;/label&gt;
                        &lt;div class="d-flex" role="radiogroup" aria-label="Select circle color"&gt;
                            &lt;div class="circle-color active" style="background: #4a90e2;" role="radio" aria-checked="true" tabindex="0"&gt;&lt;/div&gt;
                            &lt;div class="circle-color" style="background: #31a24c;" role="radio" aria-checked="false" tabindex="0"&gt;&lt;/div&gt;
                            &lt;div class="circle-color" style="background: #e74c3c;" role="radio" aria-checked="false" tabindex="0"&gt;&lt;/div&gt;
                            &lt;div class="circle-color" style="background: #f1c40f;" role="radio" aria-checked="false" tabindex="0"&gt;&lt;/div&gt;
                            &lt;div class="circle-color" style="background: #9b59b6;" role="radio" aria-checked="false" tabindex="0"&gt;&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="mb-3"&gt;
                        &lt;label for="modalCircleMembers" class="form-label"&gt;Select Members&lt;/label&gt;
                        &lt;select id="modalCircleMembers" class="form-select" multiple size="5" aria-label="Select circle members"&gt;
                            &lt;option&gt;Sarah Johnson&lt;/option&gt;
                            &lt;option&gt;Mike Wilson&lt;/option&gt;
                            &lt;option&gt;Emma Davis&lt;/option&gt;
                            &lt;option&gt;John Smith&lt;/option&gt;
                            &lt;option&gt;Lisa Chen&lt;/option&gt;
                        &lt;/select&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="modal-footer"&gt;
                    &lt;button type="button" class="btn btn-secondary" data-bs-dismiss="modal"&gt;Cancel&lt;/button&gt;
                    &lt;button type="button" class="btn btn-primary"&gt;Create Circle&lt;/button&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"&gt;&lt;/script&gt;
    &lt;script src="../js/friend-circles.js" defer&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</textarea>
    </div>

    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-success">Save Template</button>
        <button type="button" class="btn btn-secondary" onclick="previewCode()">Preview</button>
    </div>

    <!-- Preview -->
    <h5 class="mt-4" id="previewLabel">Live Preview</h5>
    <iframe id="previewFrame" style="width:100%; height:300px; border:1px solid #ccc;"></iframe>
</form>

<script>
    const toggleBtn = document.getElementById('toggleModeBtn');
    const viewMode = document.getElementById('viewMode');
    const editMode = document.getElementById('editMode');
    const previewFrame = document.getElementById('previewFrame');
    const liveFrame = document.getElementById('liveFrame');
    const previewLabel = document.getElementById('previewLabel');
    const htmlTextarea = document.getElementById('html_code');

    let isEditMode = false;

    // Render HTML into iframe (safe sandboxed)
    function renderIframeContent(html, targetFrame) {
        const doc = targetFrame.contentDocument || targetFrame.contentWindow.document;
        const fullHTML = `
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <title>Template Preview</title>
                <style>body { font-family: Arial, sans-serif; padding: 1rem; }</style>
            </head>
            <body>
                ${html}
            </body>
            </html>
        `;
        doc.open();
        doc.write(fullHTML);
        doc.close();
    }

    // Initial render in View Mode
    window.addEventListener('DOMContentLoaded', () => {
        renderIframeContent(`<!DOCTYPE html>
<html lang=\"en\">
<head>
    <meta charset=\"UTF-8\">
    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">
    <meta name=\"description\" content=\"Manage your friend circles and groups on Friends\">
    <meta name=\"theme-color\" content=\"#4a90e2\">
    <title>Friend Circles - Friends</title>
    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">
    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\">
    <link rel=\"stylesheet\" href=\"../styles/friend-circles.css\">
</head>
<body>

<style>
#sidebar-menu ul li a {
    display: block;
    padding: .62rem 1.5rem;
    color: red!important;
    position: relative;
    font-size: .9rem;
    transition: all .4s;
    font-weight: 500;
}
:root {
    --primary-color: #4a90e2;
    --secondary-color: #f5f6f7;
    --text-color: #1c1e21;
    --success-color: #42b72a;
    --warning-color: #f7b928;
    --danger-color: #dc3545;
    --border-radius: 10px;
    --transition-speed: 0.2s;
}

/* Skip Navigation */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--primary-color);
    color: white;
    padding: 8px;
    z-index: 100;
    transition: top var(--transition-speed);
}

.skip-link:focus {
    top: 0;
}

/* General Styles */
body {
    font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f0f2f5;
    min-height: 100vh;
}

/* Sidebar */
.sidebar {
    background: white;
    height: 100vh;
    position: fixed;
    padding: 20px;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    z-index: 1000;
    transition: transform var(--transition-speed);
}

.sidebar.collapsed {
    transform: translateX(-100%);
}

.nav-link {
    color: var(--text-color);
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 5px;
    transition: all var(--transition-speed);
    position: relative;
}

.nav-link:hover {
    background-color: var(--secondary-color);
    transform: translateX(5px);
}

.nav-link.active {
    background-color: var(--primary-color);
    color: white;
}

/* Main Content */
.main-content {
    margin-left: 250px;
    padding: 20px;
    transition: margin var(--transition-speed);
}

.main-content.expanded {
    margin-left: 0;
}

/* Circle Cards */
.circle-card {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform var(--transition-speed), box-shadow var(--transition-speed);
    position: relative;
}

.circle-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.circle-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
    margin-bottom: 15px;
    transition: transform var(--transition-speed);
}

.circle-avatar:hover {
    transform: scale(1.1);
}

.member-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 2px solid white;
    margin-left: -8px;
    transition: transform var(--transition-speed);
}

.member-avatar:hover {
    transform: scale(1.2);
    z-index: 1;
}

.member-avatar:first-child {
    margin-left: 0;
}

.circle-actions {
    position: absolute;
    top: 10px;
    right: 10px;
    opacity: 0;
    transition: opacity var(--transition-speed);
}

.circle-card:hover .circle-actions {
    opacity: 1;
}

/* Create Circle Section */
.create-circle-section {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform var(--transition-speed), box-shadow var(--transition-speed);
}

.create-circle-section:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.circle-color {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-right: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: transform var(--transition-speed), border-color var(--transition-speed);
}

.circle-color:hover {
    transform: scale(1.2);
}

.circle-color.active {
    border-color: var(--text-color);
    transform: scale(1.1);
}

/* Form Elements */
.form-control, .form-select {
    border: 1px solid var(--secondary-color);
    border-radius: var(--border-radius);
    padding: 10px 15px;
    transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
}

.form-control:focus, .form-select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
}

/* Buttons */
.btn {
    border-radius: var(--border-radius);
    padding: 8px 16px;
    transition: all var(--transition-speed);
}

.btn-primary {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Dropdown Menu */
.dropdown-menu {
    border-radius: var(--border-radius);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: none;
    padding: 8px;
}

.dropdown-item {
    border-radius: 5px;
    padding: 8px 12px;
    transition: background-color var(--transition-speed);
}

.dropdown-item:hover {
    background-color: var(--secondary-color);
}

/* Modal */
.modal-content {
    border-radius: var(--border-radius);
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.modal-header {
    border-bottom: 1px solid var(--secondary-color);
    padding: 15px 20px;
}

.modal-body {
    padding: 20px;
}

.modal-footer {
    border-top: 1px solid var(--secondary-color);
    padding: 15px 20px;
}

/* Loading States */
.loading {
    position: relative;
    pointer-events: none;
    opacity: 0.8;
}

.loading::after {
    content: \'\';
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid #fff;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s linear infinite;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
}

@keyframes spin {
    to { transform: translateY(-50%) rotate(360deg); }
}

/* Responsive Design */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
    }

    .sidebar.show {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
    }

    .circle-card {
        padding: 15px;
    }

    .circle-avatar {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }

    .member-avatar {
        width: 28px;
        height: 28px;
    }

    .create-circle-section {
        padding: 15px;
    }
} 
</style>
    
    <!-- Main Content -->
    <main id=\"main-content\" class=\"main-content\" role=\"main\">
        <div class=\"d-flex justify-content-between align-items-center mb-4\">
            <h1 class=\"h4\">Friend Circles</h1>
            <button class=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#createCircleModal\" aria-label=\"Create new circle\">
                <i class=\"fas fa-plus me-2\" aria-hidden=\"true\"></i> Create New Circle
            </button>
        </div>

        <!-- Create Circle Section -->
        <section class=\"create-circle-section\" aria-labelledby=\"quick-create-heading\">
            <h2 id=\"quick-create-heading\" class=\"h5 mb-3\">Quick Create</h2>
            <div class=\"row g-3\">
                <div class=\"col-md-4\">
                    <label for=\"circleName\" class=\"form-label visually-hidden\">Circle Name</label>
                    <input type=\"text\" id=\"circleName\" class=\"form-control\" placeholder=\"Circle Name\" aria-label=\"Enter circle name\">
                </div>
                <div class=\"col-md-4\">
                    <label for=\"circleMembers\" class=\"form-label visually-hidden\">Select Friends</label>
                    <select id=\"circleMembers\" class=\"form-select\" aria-label=\"Select friends for circle\">
                        <option value=\"\">Select Friends</option>
                        <option value=\"all\">All Friends</option>
                        <option value=\"close\">Close Friends</option>
                        <option value=\"custom\">Custom Selection</option>
                    </select>
                </div>
                <div class=\"col-md-4\">
                    <button class=\"btn btn-primary w-100\" aria-label=\"Create circle with selected options\">Create Circle</button>
                </div>
            </div>
        </section>

        <!-- Circles Grid -->
        <section class=\"row\" aria-label=\"Friend circles\">
            <!-- Circle Card 1 -->
            <article class=\"col-md-4\">
                <div class=\"circle-card position-relative\">
                    <div class=\"circle-actions\">
                        <div class=\"dropdown\">
                            <button class=\"btn btn-link text-muted\" data-bs-toggle=\"dropdown\" aria-label=\"Circle options\">
                                <i class=\"fas fa-ellipsis-v\" aria-hidden=\"true\"></i>
                            </button>
                            <ul class=\"dropdown-menu\" role=\"menu\">
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-edit me-2\" aria-hidden=\"true\"></i>Edit Circle</a></li>
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-user-plus me-2\" aria-hidden=\"true\"></i>Add Members</a></li>
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-trash me-2\" aria-hidden=\"true\"></i>Delete Circle</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class=\"circle-avatar\" style=\"background: #4a90e2;\" aria-hidden=\"true\">
                        <i class=\"fas fa-users\" aria-hidden=\"true\"></i>
                    </div>
                    <h3 class=\"h5 mb-2\">Family</h3>
                    <p class=\"text-muted mb-3\">12 members</p>
                    <div class=\"d-flex align-items-center\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"Family member 1\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"Family member 2\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"Family member 3\">
                        <span class=\"ms-2 text-muted\">+9 more</span>
                    </div>
                </div>
            </article>

            <!-- Circle Card 2 -->
            <article class=\"col-md-4\">
                <div class=\"circle-card position-relative\">
                    <div class=\"circle-actions\">
                        <div class=\"dropdown\">
                            <button class=\"btn btn-link text-muted\" data-bs-toggle=\"dropdown\" aria-label=\"Circle options\">
                                <i class=\"fas fa-ellipsis-v\" aria-hidden=\"true\"></i>
                            </button>
                            <ul class=\"dropdown-menu\" role=\"menu\">
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-edit me-2\" aria-hidden=\"true\"></i>Edit Circle</a></li>
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-user-plus me-2\" aria-hidden=\"true\"></i>Add Members</a></li>
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-trash me-2\" aria-hidden=\"true\"></i>Delete Circle</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class=\"circle-avatar\" style=\"background: #31a24c;\" aria-hidden=\"true\">
                        <i class=\"fas fa-briefcase\" aria-hidden=\"true\"></i>
                    </div>
                    <h3 class=\"h5 mb-2\">Work</h3>
                    <p class=\"text-muted mb-3\">8 members</p>
                    <div class=\"d-flex align-items-center\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"Work colleague 1\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"Work colleague 2\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"Work colleague 3\">
                        <span class=\"ms-2 text-muted\">+5 more</span>
                    </div>
                </div>
            </article>

            <!-- Circle Card 3 -->
            <article class=\"col-md-4\">
                <div class=\"circle-card position-relative\">
                    <div class=\"circle-actions\">
                        <div class=\"dropdown\">
                            <button class=\"btn btn-link text-muted\" data-bs-toggle=\"dropdown\" aria-label=\"Circle options\">
                                <i class=\"fas fa-ellipsis-v\" aria-hidden=\"true\"></i>
                            </button>
                            <ul class=\"dropdown-menu\" role=\"menu\">
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-edit me-2\" aria-hidden=\"true\"></i>Edit Circle</a></li>
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-user-plus me-2\" aria-hidden=\"true\"></i>Add Members</a></li>
                                <li><a class=\"dropdown-item\" href=\"#\" role=\"menuitem\"><i class=\"fas fa-trash me-2\" aria-hidden=\"true\"></i>Delete Circle</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class=\"circle-avatar\" style=\"background: #e74c3c;\" aria-hidden=\"true\">
                        <i class=\"fas fa-graduation-cap\" aria-hidden=\"true\"></i>
                    </div>
                    <h3 class=\"h5 mb-2\">College</h3>
                    <p class=\"text-muted mb-3\">15 members</p>
                    <div class=\"d-flex align-items-center\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"College friend 1\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"College friend 2\">
                        <img src=\"https://via.placeholder.com/32\" class=\"member-avatar\" alt=\"College friend 3\">
                        <span class=\"ms-2 text-muted\">+12 more</span>
                    </div>
                </div>
            </article>
        </section>
    </main>

    <!-- Create Circle Modal -->
    <div class=\"modal fade\" id=\"createCircleModal\" tabindex=\"-1\" aria-labelledby=\"createCircleModalLabel\" aria-hidden=\"true\">
        <div class=\"modal-dialog\">
            <div class=\"modal-content\">
                <div class=\"modal-header\">
                    <h2 id=\"createCircleModalLabel\" class=\"modal-title h5\">Create New Circle</h2>
                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>
                </div>
                <div class=\"modal-body\">
                    <div class=\"mb-3\">
                        <label for=\"modalCircleName\" class=\"form-label\">Circle Name</label>
                        <input type=\"text\" id=\"modalCircleName\" class=\"form-control\" placeholder=\"Enter circle name\">
                    </div>
                    <div class=\"mb-3\">
                        <label class=\"form-label\">Circle Color</label>
                        <div class=\"d-flex\" role=\"radiogroup\" aria-label=\"Select circle color\">
                            <div class=\"circle-color active\" style=\"background: #4a90e2;\" role=\"radio\" aria-checked=\"true\" tabindex=\"0\"></div>
                            <div class=\"circle-color\" style=\"background: #31a24c;\" role=\"radio\" aria-checked=\"false\" tabindex=\"0\"></div>
                            <div class=\"circle-color\" style=\"background: #e74c3c;\" role=\"radio\" aria-checked=\"false\" tabindex=\"0\"></div>
                            <div class=\"circle-color\" style=\"background: #f1c40f;\" role=\"radio\" aria-checked=\"false\" tabindex=\"0\"></div>
                            <div class=\"circle-color\" style=\"background: #9b59b6;\" role=\"radio\" aria-checked=\"false\" tabindex=\"0\"></div>
                        </div>
                    </div>
                    <div class=\"mb-3\">
                        <label for=\"modalCircleMembers\" class=\"form-label\">Select Members</label>
                        <select id=\"modalCircleMembers\" class=\"form-select\" multiple size=\"5\" aria-label=\"Select circle members\">
                            <option>Sarah Johnson</option>
                            <option>Mike Wilson</option>
                            <option>Emma Davis</option>
                            <option>John Smith</option>
                            <option>Lisa Chen</option>
                        </select>
                    </div>
                </div>
                <div class=\"modal-footer\">
                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>
                    <button type=\"button\" class=\"btn btn-primary\">Create Circle</button>
                </div>
            </div>
        </div>
    </div>

    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\"></script>
    <script src="\&quot;../js/friend-circles.js\&quot;" defer=""></script>

`, liveFrame);
    });

    // Toggle between View and Edit
    toggleBtn.addEventListener('click', () =&gt; {
        isEditMode = !isEditMode;

        if (isEditMode) {
            viewMode.classList.add('d-none');
            editMode.classList.remove('d-none');
            previewFrame.classList.remove('d-none');
            previewLabel.classList.remove('d-none');
            toggleBtn.textContent = 'Switch to View';
        } else {
            renderIframeContent(`


    <meta charset="\&quot;UTF-8\&quot;">
    <meta name="\&quot;viewport\&quot;" content="\&quot;width=device-width," initial-scale="1.0\&quot;">
    <meta name="\&quot;description\&quot;" content="\&quot;Manage" your="" friend="" circles="" and="" groups="" on="" friends\"="">
    <meta name="\&quot;theme-color\&quot;" content="\&quot;#4a90e2\&quot;">
    <title>Friend Circles - Friends</title>
    <link href="\&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\&quot;" rel="\&quot;stylesheet\&quot;">
    <link rel="\&quot;stylesheet\&quot;" href="\&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css\&quot;">
    <link rel="\&quot;stylesheet\&quot;" href="\&quot;../styles/friend-circles.css\&quot;">



<style>
#sidebar-menu ul li a {
    display: block;
    padding: .62rem 1.5rem;
    color: red!important;
    position: relative;
    font-size: .9rem;
    transition: all .4s;
    font-weight: 500;
}
:root {
    --primary-color: #4a90e2;
    --secondary-color: #f5f6f7;
    --text-color: #1c1e21;
    --success-color: #42b72a;
    --warning-color: #f7b928;
    --danger-color: #dc3545;
    --border-radius: 10px;
    --transition-speed: 0.2s;
}

/* Skip Navigation */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--primary-color);
    color: white;
    padding: 8px;
    z-index: 100;
    transition: top var(--transition-speed);
}

.skip-link:focus {
    top: 0;
}

/* General Styles */
body {
    font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f0f2f5;
    min-height: 100vh;
}

/* Sidebar */
.sidebar {
    background: white;
    height: 100vh;
    position: fixed;
    padding: 20px;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    z-index: 1000;
    transition: transform var(--transition-speed);
}

.sidebar.collapsed {
    transform: translateX(-100%);
}

.nav-link {
    color: var(--text-color);
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 5px;
    transition: all var(--transition-speed);
    position: relative;
}

.nav-link:hover {
    background-color: var(--secondary-color);
    transform: translateX(5px);
}

.nav-link.active {
    background-color: var(--primary-color);
    color: white;
}

/* Main Content */
.main-content {
    margin-left: 250px;
    padding: 20px;
    transition: margin var(--transition-speed);
}

.main-content.expanded {
    margin-left: 0;
}

/* Circle Cards */
.circle-card {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform var(--transition-speed), box-shadow var(--transition-speed);
    position: relative;
}

.circle-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.circle-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 24px;
    margin-bottom: 15px;
    transition: transform var(--transition-speed);
}

.circle-avatar:hover {
    transform: scale(1.1);
}

.member-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 2px solid white;
    margin-left: -8px;
    transition: transform var(--transition-speed);
}

.member-avatar:hover {
    transform: scale(1.2);
    z-index: 1;
}

.member-avatar:first-child {
    margin-left: 0;
}

.circle-actions {
    position: absolute;
    top: 10px;
    right: 10px;
    opacity: 0;
    transition: opacity var(--transition-speed);
}

.circle-card:hover .circle-actions {
    opacity: 1;
}

/* Create Circle Section */
.create-circle-section {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    transition: transform var(--transition-speed), box-shadow var(--transition-speed);
}

.create-circle-section:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.circle-color {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-right: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: transform var(--transition-speed), border-color var(--transition-speed);
}

.circle-color:hover {
    transform: scale(1.2);
}

.circle-color.active {
    border-color: var(--text-color);
    transform: scale(1.1);
}

/* Form Elements */
.form-control, .form-select {
    border: 1px solid var(--secondary-color);
    border-radius: var(--border-radius);
    padding: 10px 15px;
    transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
}

.form-control:focus, .form-select:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
}

/* Buttons */
.btn {
    border-radius: var(--border-radius);
    padding: 8px 16px;
    transition: all var(--transition-speed);
}

.btn-primary {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Dropdown Menu */
.dropdown-menu {
    border-radius: var(--border-radius);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: none;
    padding: 8px;
}

.dropdown-item {
    border-radius: 5px;
    padding: 8px 12px;
    transition: background-color var(--transition-speed);
}

.dropdown-item:hover {
    background-color: var(--secondary-color);
}

/* Modal */
.modal-content {
    border-radius: var(--border-radius);
    border: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.modal-header {
    border-bottom: 1px solid var(--secondary-color);
    padding: 15px 20px;
}

.modal-body {
    padding: 20px;
}

.modal-footer {
    border-top: 1px solid var(--secondary-color);
    padding: 15px 20px;
}

/* Loading States */
.loading {
    position: relative;
    pointer-events: none;
    opacity: 0.8;
}

.loading::after {
    content: \'\';
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid #fff;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s linear infinite;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
}

@keyframes spin {
    to { transform: translateY(-50%) rotate(360deg); }
}

/* Responsive Design */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
    }

    .sidebar.show {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0;
    }

    .circle-card {
        padding: 15px;
    }

    .circle-avatar {
        width: 50px;
        height: 50px;
        font-size: 20px;
    }

    .member-avatar {
        width: 28px;
        height: 28px;
    }

    .create-circle-section {
        padding: 15px;
    }
} 
</style>
    
    <!-- Main Content -->
    <main id="\&quot;main-content\&quot;" class="\&quot;main-content\&quot;" role="\&quot;main\&quot;">
        <div class="\&quot;d-flex" justify-content-between="" align-items-center="" mb-4\"="">
            <h1 class="\&quot;h4\&quot;">Friend Circles</h1>
            <button class="\&quot;btn" btn-primary\"="" data-bs-toggle="\&quot;modal\&quot;" data-bs-target="\&quot;#createCircleModal\&quot;" aria-label="\&quot;Create" new="" circle\"="">
                <i class="\&quot;fas" fa-plus="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i> Create New Circle
            </button>
        </div>

        <!-- Create Circle Section -->
        <section class="\&quot;create-circle-section\&quot;" aria-labelledby="\&quot;quick-create-heading\&quot;">
            <h2 id="\&quot;quick-create-heading\&quot;" class="\&quot;h5" mb-3\"="">Quick Create</h2>
            <div class="\&quot;row" g-3\"="">
                <div class="\&quot;col-md-4\&quot;">
                    <label for="\&quot;circleName\&quot;" class="\&quot;form-label" visually-hidden\"="">Circle Name</label>
                    <input type="\&quot;text\&quot;" id="\&quot;circleName\&quot;" class="\&quot;form-control\&quot;" placeholder="\&quot;Circle" name\"="" aria-label="\&quot;Enter" circle="">
                </div>
                <div class="\&quot;col-md-4\&quot;">
                    <label for="\&quot;circleMembers\&quot;" class="\&quot;form-label" visually-hidden\"="">Select Friends</label>
                    <select id="\&quot;circleMembers\&quot;" class="\&quot;form-select\&quot;" aria-label="\&quot;Select" friends="" for="" circle\"="">
                        <option value="\&quot;\&quot;">Select Friends</option>
                        <option value="\&quot;all\&quot;">All Friends</option>
                        <option value="\&quot;close\&quot;">Close Friends</option>
                        <option value="\&quot;custom\&quot;">Custom Selection</option>
                    </select>
                </div>
                <div class="\&quot;col-md-4\&quot;">
                    <button class="\&quot;btn" btn-primary="" w-100\"="" aria-label="\&quot;Create" circle="" with="" selected="" options\"="">Create Circle</button>
                </div>
            </div>
        </section>

        <!-- Circles Grid -->
        <section class="\&quot;row\&quot;" aria-label="\&quot;Friend" circles\"="">
            <!-- Circle Card 1 -->
            <article class="\&quot;col-md-4\&quot;">
                <div class="\&quot;circle-card" position-relative\"="">
                    <div class="\&quot;circle-actions\&quot;">
                        <div class="\&quot;dropdown\&quot;">
                            <button class="\&quot;btn" btn-link="" text-muted\"="" data-bs-toggle="\&quot;dropdown\&quot;" aria-label="\&quot;Circle" options\"="">
                                <i class="\&quot;fas" fa-ellipsis-v\"="" aria-hidden="\&quot;true\&quot;"></i>
                            </button>
                            <ul class="\&quot;dropdown-menu\&quot;" role="\&quot;menu\&quot;">
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-edit="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Edit Circle</a></li>
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-user-plus="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Add Members</a></li>
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-trash="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Delete Circle</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="\&quot;circle-avatar\&quot;" style="\&quot;background:" #4a90e2;\"="" aria-hidden="\&quot;true\&quot;">
                        <i class="\&quot;fas" fa-users\"="" aria-hidden="\&quot;true\&quot;"></i>
                    </div>
                    <h3 class="\&quot;h5" mb-2\"="">Family</h3>
                    <p class="\&quot;text-muted" mb-3\"="">12 members</p>
                    <div class="\&quot;d-flex" align-items-center\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;Family" member="" 1\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;Family" member="" 2\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;Family" member="" 3\"="">
                        <span class="\&quot;ms-2" text-muted\"="">+9 more</span>
                    </div>
                </div>
            </article>

            <!-- Circle Card 2 -->
            <article class="\&quot;col-md-4\&quot;">
                <div class="\&quot;circle-card" position-relative\"="">
                    <div class="\&quot;circle-actions\&quot;">
                        <div class="\&quot;dropdown\&quot;">
                            <button class="\&quot;btn" btn-link="" text-muted\"="" data-bs-toggle="\&quot;dropdown\&quot;" aria-label="\&quot;Circle" options\"="">
                                <i class="\&quot;fas" fa-ellipsis-v\"="" aria-hidden="\&quot;true\&quot;"></i>
                            </button>
                            <ul class="\&quot;dropdown-menu\&quot;" role="\&quot;menu\&quot;">
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-edit="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Edit Circle</a></li>
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-user-plus="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Add Members</a></li>
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-trash="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Delete Circle</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="\&quot;circle-avatar\&quot;" style="\&quot;background:" #31a24c;\"="" aria-hidden="\&quot;true\&quot;">
                        <i class="\&quot;fas" fa-briefcase\"="" aria-hidden="\&quot;true\&quot;"></i>
                    </div>
                    <h3 class="\&quot;h5" mb-2\"="">Work</h3>
                    <p class="\&quot;text-muted" mb-3\"="">8 members</p>
                    <div class="\&quot;d-flex" align-items-center\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;Work" colleague="" 1\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;Work" colleague="" 2\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;Work" colleague="" 3\"="">
                        <span class="\&quot;ms-2" text-muted\"="">+5 more</span>
                    </div>
                </div>
            </article>

            <!-- Circle Card 3 -->
            <article class="\&quot;col-md-4\&quot;">
                <div class="\&quot;circle-card" position-relative\"="">
                    <div class="\&quot;circle-actions\&quot;">
                        <div class="\&quot;dropdown\&quot;">
                            <button class="\&quot;btn" btn-link="" text-muted\"="" data-bs-toggle="\&quot;dropdown\&quot;" aria-label="\&quot;Circle" options\"="">
                                <i class="\&quot;fas" fa-ellipsis-v\"="" aria-hidden="\&quot;true\&quot;"></i>
                            </button>
                            <ul class="\&quot;dropdown-menu\&quot;" role="\&quot;menu\&quot;">
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-edit="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Edit Circle</a></li>
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-user-plus="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Add Members</a></li>
                                <li><a class="\&quot;dropdown-item\&quot;" href="\&quot;#\&quot;" role="\&quot;menuitem\&quot;"><i class="\&quot;fas" fa-trash="" me-2\"="" aria-hidden="\&quot;true\&quot;"></i>Delete Circle</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="\&quot;circle-avatar\&quot;" style="\&quot;background:" #e74c3c;\"="" aria-hidden="\&quot;true\&quot;">
                        <i class="\&quot;fas" fa-graduation-cap\"="" aria-hidden="\&quot;true\&quot;"></i>
                    </div>
                    <h3 class="\&quot;h5" mb-2\"="">College</h3>
                    <p class="\&quot;text-muted" mb-3\"="">15 members</p>
                    <div class="\&quot;d-flex" align-items-center\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;College" friend="" 1\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;College" friend="" 2\"="">
                        <img src="\&quot;https://via.placeholder.com/32\&quot;" class="\&quot;member-avatar\&quot;" alt="\&quot;College" friend="" 3\"="">
                        <span class="\&quot;ms-2" text-muted\"="">+12 more</span>
                    </div>
                </div>
            </article>
        </section>
    </main>

    <!-- Create Circle Modal -->
    <div class="\&quot;modal" fade\"="" id="\&quot;createCircleModal\&quot;" tabindex="\&quot;-1\&quot;" aria-labelledby="\&quot;createCircleModalLabel\&quot;" aria-hidden="\&quot;true\&quot;">
        <div class="\&quot;modal-dialog\&quot;">
            <div class="\&quot;modal-content\&quot;">
                <div class="\&quot;modal-header\&quot;">
                    <h2 id="\&quot;createCircleModalLabel\&quot;" class="\&quot;modal-title" h5\"="">Create New Circle</h2>
                    <button type="\&quot;button\&quot;" class="\&quot;btn-close\&quot;" data-bs-dismiss="\&quot;modal\&quot;" aria-label="\&quot;Close\&quot;"></button>
                </div>
                <div class="\&quot;modal-body\&quot;">
                    <div class="\&quot;mb-3\&quot;">
                        <label for="\&quot;modalCircleName\&quot;" class="\&quot;form-label\&quot;">Circle Name</label>
                        <input type="\&quot;text\&quot;" id="\&quot;modalCircleName\&quot;" class="\&quot;form-control\&quot;" placeholder="\&quot;Enter" circle="" name\"="">
                    </div>
                    <div class="\&quot;mb-3\&quot;">
                        <label class="\&quot;form-label\&quot;">Circle Color</label>
                        <div class="\&quot;d-flex\&quot;" role="\&quot;radiogroup\&quot;" aria-label="\&quot;Select" circle="" color\"="">
                            <div class="\&quot;circle-color" active\"="" style="\&quot;background:" #4a90e2;\"="" role="\&quot;radio\&quot;" aria-checked="\&quot;true\&quot;" tabindex="\&quot;0\&quot;"></div>
                            <div class="\&quot;circle-color\&quot;" style="\&quot;background:" #31a24c;\"="" role="\&quot;radio\&quot;" aria-checked="\&quot;false\&quot;" tabindex="\&quot;0\&quot;"></div>
                            <div class="\&quot;circle-color\&quot;" style="\&quot;background:" #e74c3c;\"="" role="\&quot;radio\&quot;" aria-checked="\&quot;false\&quot;" tabindex="\&quot;0\&quot;"></div>
                            <div class="\&quot;circle-color\&quot;" style="\&quot;background:" #f1c40f;\"="" role="\&quot;radio\&quot;" aria-checked="\&quot;false\&quot;" tabindex="\&quot;0\&quot;"></div>
                            <div class="\&quot;circle-color\&quot;" style="\&quot;background:" #9b59b6;\"="" role="\&quot;radio\&quot;" aria-checked="\&quot;false\&quot;" tabindex="\&quot;0\&quot;"></div>
                        </div>
                    </div>
                    <div class="\&quot;mb-3\&quot;">
                        <label for="\&quot;modalCircleMembers\&quot;" class="\&quot;form-label\&quot;">Select Members</label>
                        <select id="\&quot;modalCircleMembers\&quot;" class="\&quot;form-select\&quot;" multiple="" size="\&quot;5\&quot;" aria-label="\&quot;Select" circle="" members\"="">
                            <option>Sarah Johnson</option>
                            <option>Mike Wilson</option>
                            <option>Emma Davis</option>
                            <option>John Smith</option>
                            <option>Lisa Chen</option>
                        </select>
                    </div>
                </div>
                <div class="\&quot;modal-footer\&quot;">
                    <button type="\&quot;button\&quot;" class="\&quot;btn" btn-secondary\"="" data-bs-dismiss="\&quot;modal\&quot;">Cancel</button>
                    <button type="\&quot;button\&quot;" class="\&quot;btn" btn-primary\"="">Create Circle</button>
                </div>
            </div>
        </div>
    </div>

    <script src="\&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js\&quot;"></script>
    <script src="\&quot;../js/friend-circles.js\&quot;" defer=""></script>

`, liveFrame);
            viewMode.classList.remove('d-none');
            editMode.classList.add('d-none');
            previewFrame.classList.add('d-none');
            previewLabel.classList.add('d-none');
            toggleBtn.textContent = 'Switch to Edit';
        }
    });

    // Render preview from textarea
    function previewCode() {
        const html = htmlTextarea.value;
        renderIframeContent(html, previewFrame);
    }


                </div>
                <!-- container-fluid -->
            </div>