<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Classiffied - Inquiries</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --text-color: #333;
            --border-radius: 8px;
            --box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 250px;
            background-color: var(--dark-color);
            color: white;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            transition: all 0.3s ease;
        }
        
        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }
        
        .logo span {
            color: var(--secondary-color);
        }
        
        .sidebar-menu {
            padding: 20px 0;
        }
        
        .menu-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .menu-item:hover, .menu-item.active {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .menu-item i {
            font-size: 1.1rem;
            width: 20px;
            text-align: center;
        }
        
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background-color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        
        .toggle-sidebar {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--text-color);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
        }
        
        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-name {
            font-weight: 500;
        }
        
        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
        }
        
        .card-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-header h2 {
            font-size: 1.2rem;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .btn {
            padding: 8px 16px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-sm {
            padding: 5px 10px;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }
        
        .btn-success {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .inquiries-container {
            display: flex;
            height: 70vh;
            border: 1px solid #eee;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .inquiries-sidebar {
            width: 350px;
            border-right: 1px solid #eee;
            overflow-y: auto;
        }
        
        .message-contact {
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .message-contact:hover {
            background-color: #f9f9f9;
        }
        
        .message-contact.active {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .message-contact img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .contact-info {
            flex: 1;
        }
        
        .contact-info h4 {
            font-size: 1rem;
            margin-bottom: 3px;
        }
        
        .contact-info p {
            color: #777;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }
        
        .message-time {
            font-size: 0.8rem;
            color: #777;
        }
        
        .unread-badge {
            display: inline-block;
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 20px;
            font-size: 0.8rem;
            margin-left: 5px;
        }
        
        .message-chat {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .chat-contact {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-contact img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .chat-actions {
            display: flex;
            gap: 10px;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 10px;
            position: relative;
        }
        
        .message.received {
            align-self: flex-start;
            background-color: #f1f1f1;
        }
        
        .message.sent {
            align-self: flex-end;
            background-color: var(--primary-color);
            color: white;
        }
        
        .message-text {
            margin-bottom: 5px;
        }
        
        .message-info {
            font-size: 0.8rem;
            color: #777;
            display: flex;
            justify-content: space-between;
        }
        
        .message.sent .message-info {
            color: rgba(255, 255, 255, 0.8);
        }
        
        .chat-input {
            padding: 15px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }
        
        .chat-input textarea {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            resize: none;
        }
        
        .ad-info {
            padding: 15px;
            background-color: #f9f9f9;
            border-bottom: 1px solid #eee;
        }
        
        .ad-info-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .ad-info-header img {
            width: 60px;
            height: 60px;
            border-radius: var(--border-radius);
            object-fit: cover;
        }
        
        .filter-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .filter-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .filter-group select, .filter-group input {
            padding: 8px 12px;
            border-radius: var(--border-radius);
            border: 1px solid #ddd;
            font-size: 0.9rem;
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            padding: 20px;
            text-align: center;
            color: #777;
        }
        
        .empty-state i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #ddd;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 0;
                transform: translateX(-100%);
            }
            
            .sidebar.show {
                width: 250px;
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .inquiries-container {
                flex-direction: column;
                height: auto;
            }
            
            .inquiries-sidebar {
                width: 100%;
                height: 300px;
                border-right: none;
                border-bottom: 1px solid #eee;
            }
            
            .message-chat {
                height: 400px;
            }
            
            .card-header {
                flex-direction: column;
                gap: 10px;
                align-items: flex-start;
            }
            
            .filter-row {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo">Classi<span>ffied</span></div>
        </div>
        <div class="sidebar-menu">
            <a href="admin-dashboard.html" class="menu-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="admin-my-ads.html" class="menu-item">
                <i class="fas fa-list-alt"></i>
                <span>My Ads</span>
            </a>
            <a href="admin-create-ad.html" class="menu-item">
                <i class="fas fa-plus-circle"></i>
                <span>Create Ad</span>
            </a>
            <a href="admin-performance.html" class="menu-item">
                <i class="fas fa-chart-line"></i>
                <span>Performance</span>
            </a>
            <a href="admin-inquiries.html" class="menu-item active">
                <i class="fas fa-comment-alt"></i>
                <span>Inquiries</span>
            </a>
            <a href="admin-boost-ads.html" class="menu-item">
                <i class="fas fa-shopping-cart"></i>
                <span>Boost Ads</span>
            </a>
            <a href="admin-ad-expiry.html" class="menu-item">
                <i class="fas fa-calendar-alt"></i>
                <span>Ad Expiry</span>
            </a>
            <a href="admin-comments.html" class="menu-item">
                <i class="fas fa-comment"></i>
                <span>Comments</span>
            </a>
            <a href="admin-media-library.html" class="menu-item">
                <i class="fas fa-images"></i>
                <span>Media Library</span>
            </a>
            <a href="admin-chat-settings.html" class="menu-item">
                <i class="fas fa-comments"></i>
                <span>Chat Settings</span>
            </a>
            <a href="admin-settings.html" class="menu-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
            <a href="User-Classified.html" class="menu-item">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </div>
    </div>

    <div class="main-content">
        <div class="header">
            <button class="toggle-sidebar">
                <i class="fas fa-bars"></i>
            </button>
            <div class="user-info">
                <div class="user-avatar">
                    <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User">
                </div>
                <div class="user-name">John Smith</div>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h2>Inquiries & Messages</h2>
                <div class="filter-group">
                    <select id="adFilter">
                        <option value="all">All Ads</option>
                        <option value="1">2019 Honda Civic</option>
                        <option value="2">iPhone 13 Pro</option>
                        <option value="3">Modern Sectional Sofa</option>
                        <option value="4">Vintage Leather Jacket</option>
                        <option value="5">Apartment for Rent</option>
                    </select>
                    <select id="statusFilter">
                        <option value="all">All Status</option>
                        <option value="unread">Unread</option>
                        <option value="read">Read</option>
                        <option value="replied">Replied</option>
                    </select>
                </div>
            </div>
            <div class="card-body">
                <div class="inquiries-container">
                    <div class="inquiries-sidebar">
                        <div class="message-contact active" data-contact="1">
                            <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="User">
                            <div class="contact-info">
                                <h4>Sarah Johnson <span class="unread-badge">2</span></h4>
                                <p>Is the Honda Civic still available?</p>
                                <small>Ad: 2019 Honda Civic</small>
                            </div>
                            <span class="message-time">2h</span>
                        </div>
                        <div class="message-contact" data-contact="2">
                            <img src="https://randomuser.me/api/portraits/men/44.jpg" alt="User">
                            <div class="contact-info">
                                <h4>Mike Thomas</h4>
                                <p>What's the lowest price you'd take?</p>
                                <small>Ad: iPhone 13 Pro</small>
                            </div>
                            <span class="message-time">1d</span>
                        </div>
                        <div class="message-contact" data-contact="3">
                            <img src="https://randomuser.me/api/portraits/women/22.jpg" alt="User">
                            <div class="contact-info">
                                <h4>Emily Wilson <span class="unread-badge">1</span></h4>
                                <p>Is the sofa stain-resistant?</p>
                                <small>Ad: Modern Sectional Sofa</small>
                            </div>
                            <span class="message-time">3d</span>
                        </div>
                        <div class="message-contact" data-contact="4">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User">
                            <div class="contact-info">
                                <h4>David Brown</h4>
                                <p>Can I see more pictures of the jacket?</p>
                                <small>Ad: Vintage Leather Jacket</small>
                            </div>
                            <span class="message-time">5d</span>
                        </div>
                        <div class="message-contact" data-contact="5">
                            <img src="https://randomuser.me/api/portraits/women/58.jpg" alt="User">
                            <div class="contact-info">
                                <h4>Lisa Chen</h4>
                                <p>Is the apartment pet-friendly?</p>
                                <small>Ad: Apartment for Rent</small>
                            </div>
                            <span class="message-time">1w</span>
                        </div>
                    </div>
                    <div class="message-chat">
                        <div class="ad-info">
                            <div class="ad-info-header">
                                <img src="https://images.unsplash.com/photo-1494976388531-d1058494cdd8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Honda Civic">
                                <div>
                                    <h3>2019 Honda Civic in Excellent Condition</h3>
                                    <p>$15,999</p>
                                </div>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Status: <strong>Active</strong></span>
                                <a href="admin-my-ads.html" class="btn btn-sm btn-outline">View Ad</a>
                            </div>
                        </div>
                        <div class="chat-header">
                            <div class="chat-contact">
                                <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="User">
                                <div>
                                    <h4>Sarah Johnson</h4>
                                    <small>Last active: 30 minutes ago</small>
                                </div>
                            </div>
                            <div class="chat-actions">
                                <button class="btn btn-sm btn-outline" id="markAsReadBtn">Mark as Read</button>
                                <button class="btn btn-sm btn-outline" id="blockUserBtn">Block User</button>
                            </div>
                        </div>
                        <div class="chat-messages">
                            <div class="message received">
                                <div class="message-text">Hi, I'm interested in your Honda Civic. Is it still available?</div>
                                <div class="message-info">
                                    <span>Sarah Johnson</span>
                                    <span>Jul 18, 10:30 AM</span>
                                </div>
                            </div>
                            <div class="message sent">
                                <div class="message-text">Yes, it's still available! When would you like to see it?</div>
                                <div class="message-info">
                                    <span>Read</span>
                                    <span>Jul 18, 10:35 AM</span>
                                </div>
                            </div>
                            <div class="message received">
                                <div class="message-text">Great! How about tomorrow afternoon? Also, what's the mileage on it?</div>
                                <div class="message-info">
                                    <span>Sarah Johnson</span>
                                    <span>Jul 18, 10:38 AM</span>
                                </div>
                            </div>
                            <div class="message received">
                                <div class="message-text">And has it been in any accidents?</div>
                                <div class="message-info">
                                    <span>Sarah Johnson</span>
                                    <span>Jul 18, 10:39 AM</span>
                                </div>
                            </div>
                        </div>
                        <div class="chat-input">
                            <textarea placeholder="Type your message..." rows="3"></textarea>
                            <button class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> Send
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Toggle sidebar
        document.querySelector('.toggle-sidebar').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('show');
        });
        
        // Menu item click
        document.querySelectorAll('.menu-item').forEach(item => {
            item.addEventListener('click', function(e) {
                // Don't prevent default - let the href navigate
                
                // Remove active class from all menu items
                document.querySelectorAll('.menu-item').forEach(mi => {
                    mi.classList.remove('active');
                });
                
                // Add active class to clicked menu item
                this.classList.add('active');
            });
        });
        
        // Set active menu item based on current page
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop();
            document.querySelectorAll('.menu-item').forEach(item => {
                const itemPage = item.getAttribute('href');
                if (itemPage === currentPage) {
                    item.classList.add('active');
                }
            });
        });
        
        // Contact click
        document.querySelectorAll('.message-contact').forEach(contact => {
            contact.addEventListener('click', function() {
                // Remove active class from all contacts
                document.querySelectorAll('.message-contact').forEach(c => {
                    c.classList.remove('active');
                });
                
                // Add active class to clicked contact
                this.classList.add('active');
                
                // Get contact ID
                const contactId = this.getAttribute('data-contact');
                
                // Update chat UI
                updateChatUI(contactId);
                
                // Remove unread badge if exists
                const unreadBadge = this.querySelector('.unread-badge');
                if (unreadBadge) {
                    unreadBadge.remove();
                }
            });
        });
        
        // Chat input send button
        document.querySelector('.chat-input button').addEventListener('click', function() {
            const textarea = document.querySelector('.chat-input textarea');
            const message = textarea.value.trim();
            
            if (message) {
                // Send message (in a real app, you would make an API call here)
                sendMessage(message);
                
                // Clear textarea
                textarea.value = '';
            }
        });
        
        // Chat input textarea enter key
        document.querySelector('.chat-input textarea').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                document.querySelector('.chat-input button').click();
            }
        });
        
        // Mark as read button
        document.getElementById('markAsReadBtn').addEventListener('click', function() {
            // In a real app, you would make an API call here
            alert('All messages marked as read');
        });
        
        // Block user button
        document.getElementById('blockUserBtn').addEventListener('click', function() {
            if (confirm('Are you sure you want to block this user? They will no longer be able to contact you.')) {
                // In a real app, you would make an API call here
                alert('User blocked');
            }
        });
        
        // Ad filter change
        document.getElementById('adFilter').addEventListener('change', function() {
            filterContacts();
        });
        
        // Status filter change
        document.getElementById('statusFilter').addEventListener('change', function() {
            filterContacts();
        });
        
        // Filter contacts function
        function filterContacts() {
            const adFilter = document.getElementById('adFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            
            // In a real app, you would make an API call and update the contacts list
            console.log('Filtering contacts:', { adFilter, statusFilter });
        }
        
        // Update chat UI function
        function updateChatUI(contactId) {
            const contactData = {
                '1': {
                    name: 'Sarah Johnson',
                    image: 'https://randomuser.me/api/portraits/women/65.jpg',
                    ad: {
                        title: '2019 Honda Civic in Excellent Condition',
                        price: '$15,999',
                        image: 'https://images.unsplash.com/photo-1494976388531-d1058494cdd8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                        status: 'Active'
                    }
                },
                '2': {
                    name: 'Mike Thomas',
                    image: 'https://randomuser.me/api/portraits/men/44.jpg',
                    ad: {
                        title: 'iPhone 13 Pro 128GB - Like New',
                        price: '$799',
                        image: 'https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                        status: 'Active'
                    }
                },
                '3': {
                    name: 'Emily Wilson',
                    image: 'https://randomuser.me/api/portraits/women/22.jpg',
                    ad: {
                        title: 'Modern Sectional Sofa - Must Sell',
                        price: '$499',
                        image: 'https://images.unsplash.com/photo-1517705008128-361805f42e86?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                        status: 'Pending'
                    }
                },
                '4': {
                    name: 'David Brown',
                    image: 'https://randomuser.me/api/portraits/men/32.jpg',
                    ad: {
                        title: 'Vintage Leather Jacket - Size L',
                        price: '$120',
                        image: 'https://via.placeholder.com/300x200',
                        status: 'Inactive'
                    }
                },
                '5': {
                    name: 'Lisa Chen',
                    image: 'https://randomuser.me/api/portraits/women/58.jpg',
                    ad: {
                        title: 'Apartment for Rent - 2BR Downtown',
                        price: '$1,800/mo',
                        image: 'https://images.unsplash.com/photo-1560185007-5f0bb1866cab?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                        status: 'Expired'
                    }
                }
            };
            
            const contact = contactData[contactId];
            
            // Update chat header
            document.querySelector('.chat-contact img').src = contact.image;
            document.querySelector('.chat-contact h4').textContent = contact.name;
            
            // Update ad info
            document.querySelector('.ad-info-header img').src = contact.ad.image;
            document.querySelector('.ad-info-header h3').textContent = contact.ad.title;
            document.querySelector('.ad-info-header p').textContent = contact.ad.price;
            document.querySelector('.ad-info strong').textContent = contact.ad.status;
            
            // In a real app, you would fetch and display the messages
            
            // For demo purposes, we'll just show a placeholder for contacts other than Sarah Johnson
            const chatMessages = document.querySelector('.chat-messages');
            
            if (contactId !== '1') {
                // Show a simple message for other contacts
                chatMessages.innerHTML = `
                    <div class="message received">
                        <div class="message-text">Hi, I'm interested in your ${contact.ad.title}. Is it still available?</div>
                        <div class="message-info">
                            <span>${contact.name}</span>
                            <span>Jul 18, 10:30 AM</span>
                        </div>
                    </div>
                `;
            } else {
                // Sarah Johnson's conversation is already loaded in the HTML
            }
        }
        
        // Send message function
        function sendMessage(message) {
            // Get current timestamp
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const timeString = `${hours}:${minutes}`;
            
            // Create new message element
            const messageElement = document.createElement('div');
            messageElement.className = 'message sent';
            messageElement.innerHTML = `
                <div class="message-text">${message}</div>
                <div class="message-info">
                    <span>Sent</span>
                    <span>Today, ${timeString}</span>
                </div>
            `;
            
            // Add to chat
            document.querySelector('.chat-messages').appendChild(messageElement);
            
            // Scroll to bottom
            document.querySelector('.chat-messages').scrollTop = document.querySelector('.chat-messages').scrollHeight;
            
            // In a real app, you would make an API call to send the message
        }
    </script>
</body>
</html> 